<ion-view view-title="{{groupName.name}}">
  <ion-content>
	  <ion-toggle ng-show="isAuthenticated()" ng-model="$parent.groupParams.isMember" toggle-class="toggle-calm" ng-change="onMembershipChange()">
    Member
    </ion-toggle>
    <ion-item ng-show="groupParams.isMember">
      <button class="button button-block button-positive" ng-click="showNewSessionModal()">Create New Session</button>
    </ion-item>
    <ion-checkbox ng-show="groupParams.isMember" ng-model="showMineOnly">Show My Sessions Only</ion-checkbox>
  	<ion-item>
  	  <h2 class="title"><center>Incoming Group Sessions</center></h2>
  	</ion-item>
  	<ion-list>
      <ion-toggle ng-repeat="session in group.sessions" ng-show="groupParams.isMember && (!showMineOnly || session.isParticipant)"
        ng-model="session.isParticipant" toggle-class="toggle-calm" ng-change="onParticipationChange(session)" style="cursor:pointer">
        <a ng-click="goToSession(session)">{{session.title}}, {{session.nParticipants}} participants</a>
      </ion-toggle>
  	  <ion-item ng-repeat="session in group.sessions" ng-show="!groupParams.isMember" style="cursor:pointer">
        <a ng-click="goToSession(session)">{{session.title}}, {{session.nParticipants}} participants</a>
      </ion-item>
  	</ion-list>
  </ion-content>
</ion-view>
