<ion-view>
  <ion-nav-title>פעילויות בקבוצות שלי</ion-nav-title>
  <ion-content class="has-tabs" padding="true" dir="rtl">
    <ion-checkbox ng-show="isAuthenticated()" ng-model="showMineOnly">
      הצג רק פעילויות בהשתתפותי
    </ion-checkbox>
    <ion-list>
      <div class="item item-divider">
        פעילויות קבוצתיות שעוד לא ראיתי
      </div>
      <ion-toggle class="item item-toggle item-icon-left" ng-repeat="session in unseen" ng-show="(!showMineOnly || session.isParticipant)"
        ng-model="session.isParticipant" toggle-class="toggle-calm" ng-change="onParticipationChange(session)">
        <i class="icon ion-ios-information-empty positive" ng-click="showSessionInfo(session)" style="cursor:pointer">
          <span class="badge icon-badge">{{session.nParticipants}}</span>
        </i>
        {{session.datetimeStr}}, {{session.type}}
      </ion-toggle>
      <div class="item item-divider">
        פעילויות קבוצתיות שכבר ראיתי
      </div>
      <ion-toggle class="item item-toggle item-icon-left" ng-repeat="session in seen" ng-show="((!showMineOnly || session.isParticipant) && (!session.unseen))"
        ng-model="session.isParticipant" toggle-class="toggle-calm" ng-change="onParticipationChange(session)">
        <i class="icon ion-ios-information-empty positive" ng-click="showSessionInfo(session)"  style="cursor:pointer">
          <span class="badge icon-badge">{{session.nParticipants}}</span>
        </i>
        {{session.datetimeStr}}, {{session.type}}
      </ion-toggle>
    </ion-list>
  </ion-content>
</ion-view>
